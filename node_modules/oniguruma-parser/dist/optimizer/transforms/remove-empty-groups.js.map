{
  "version": 3,
  "sources": ["../../../src/optimizer/transforms/remove-empty-groups.js"],
  "sourcesContent": ["import {NodeTypes} from '../../parser/parse.js';\n\n/**\nRemove empty noncapturing, atomic, and flag groups, even if quantified.\n*/\nconst removeEmptyGroups = {\n  Group({node, remove}) {\n    if (isEmptyGroup(node)) {\n      remove();\n    }\n  },\n\n  Quantifier({node, remove}) {\n    let kid = node.element;\n    while (kid.type === NodeTypes.Quantifier) {\n      kid = kid.element;\n    }\n    if (isEmptyGroup(kid)) {\n      remove();\n    }\n  },\n};\n\nfunction isEmptyGroup(node) {\n  return (\n    node.type === NodeTypes.Group &&\n    node.alternatives.every(alt => !alt.elements.length)\n  );\n}\n\nexport {\n  removeEmptyGroups,\n};\n"],
  "mappings": "aAAA,OAAQ,aAAAA,MAAgB,wBAKxB,MAAMC,EAAoB,CACxB,MAAM,CAAC,KAAAC,EAAM,OAAAC,CAAM,EAAG,CAChBC,EAAaF,CAAI,GACnBC,EAAO,CAEX,EAEA,WAAW,CAAC,KAAAD,EAAM,OAAAC,CAAM,EAAG,CACzB,IAAIE,EAAMH,EAAK,QACf,KAAOG,EAAI,OAASL,EAAU,YAC5BK,EAAMA,EAAI,QAERD,EAAaC,CAAG,GAClBF,EAAO,CAEX,CACF,EAEA,SAASC,EAAaF,EAAM,CAC1B,OACEA,EAAK,OAASF,EAAU,OACxBE,EAAK,aAAa,MAAMI,GAAO,CAACA,EAAI,SAAS,MAAM,CAEvD,CAEA,OACEL,KAAA",
  "names": ["NodeTypes", "removeEmptyGroups", "node", "remove", "isEmptyGroup", "kid", "alt"]
}
