var OnigurumaToEs=(()=>{var be=Object.defineProperty;var Ut=Object.getOwnPropertyDescriptor;var Ot=Object.getOwnPropertyNames;var Dt=Object.prototype.hasOwnProperty;var Tt=(e,t)=>{for(var r in t)be(e,r,{get:t[r],enumerable:!0})},Bt=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Ot(t))!Dt.call(e,n)&&n!==r&&be(e,n,{get:()=>t[n],enumerable:!(s=Ut(t,n))||s.enumerable});return e};var zt=e=>Bt(be({},"__esModule",{value:!0}),e);var un={};Tt(un,{EmulatedRegExp:()=>ue,toRegExp:()=>cn,toRegExpDetails:()=>Gt});var $=String.fromCodePoint,C=String.raw,V={flagGroups:(()=>{try{new RegExp("(?i:)")}catch{return!1}return!0})(),unicodeSets:(()=>{try{new RegExp("","v")}catch{return!1}return!0})()};V.literalHyphenIncorrectlyCreatesRange=(()=>{if(!V.unicodeSets)return!1;try{new RegExp(C`[\d\-a]`,"v")}catch{return!0}return!1})();function J(e,{enable:t,disable:r}){return{dotAll:!r?.dotAll&&!!(t?.dotAll||e.dotAll),ignoreCase:!r?.ignoreCase&&!!(t?.ignoreCase||e.ignoreCase)}}function W(e,t,r){return e.has(t)||e.set(t,r),e.get(t)}function ae(e,t){return Ae[e]>=Ae[t]}function je(e,t){if(!e)throw new Error(t??"Value expected");return e}var Ae={ES2025:2025,ES2024:2024,ES2018:2018},Vt={auto:"auto",ES2025:"ES2025",ES2024:"ES2024",ES2018:"ES2018"};function de(e={}){if({}.toString.call(e)!=="[object Object]")throw new Error("Unexpected options");if(e.target!==void 0&&!Vt[e.target])throw new Error(`Unexpected target "${e.target}"`);let t={accuracy:"default",avoidSubclass:!1,flags:"",global:!1,hasIndices:!1,lazyCompileLength:1/0,target:"auto",verbose:!1,...e,rules:{allowOrphanBackrefs:!1,asciiWordBoundaries:!1,captureGroup:!1,recursionLimit:20,singleline:!1,...e.rules}};return t.target==="auto"&&(t.target=V.flagGroups?"ES2025":V.unicodeSets?"ES2024":"ES2018"),t}var mn=String.fromCodePoint,S=String.raw,ie=new Set(["alnum","alpha","ascii","blank","cntrl","digit","graph","lower","print","punct","space","upper","word","xdigit"]);function He(e,t,r){return e.has(t)||e.set(t,r),e.get(t)}function L(e,t){if(!e)throw new Error(t??"Value expected");return e}var h={Alternator:"Alternator",Assertion:"Assertion",Backreference:"Backreference",Character:"Character",CharacterClassClose:"CharacterClassClose",CharacterClassHyphen:"CharacterClassHyphen",CharacterClassIntersector:"CharacterClassIntersector",CharacterClassOpen:"CharacterClassOpen",CharacterSet:"CharacterSet",Directive:"Directive",GroupClose:"GroupClose",GroupOpen:"GroupOpen",Subroutine:"Subroutine",Quantifier:"Quantifier",EscapedNumber:"EscapedNumber"},I={any:"any",digit:"digit",dot:"dot",grapheme:"grapheme",hex:"hex",newline:"newline",posix:"posix",property:"property",space:"space",word:"word"},he={flags:"flags",keep:"keep"},_={absent_repeater:"absent_repeater",atomic:"atomic",capturing:"capturing",group:"group",lookahead:"lookahead",lookbehind:"lookbehind"},H={greedy:"greedy",lazy:"lazy",possessive:"possessive"},Ke=new Map([["a",7],["b",8],["e",27],["f",12],["n",10],["r",13],["t",9],["v",11]]),Xe=S`\[\^?`,Ze=`c.? | C(?:-.?)?|${S`[pP]\{(?:\^?[-\x20_]*[A-Za-z][-\x20\w]*\})?`}|${S`x[89A-Fa-f]\p{AHex}(?:\\x[89A-Fa-f]\p{AHex})*`}|${S`u(?:\p{AHex}{4})? | x\{[^\}]*\}? | x\p{AHex}{0,2}`}|${S`o\{[^\}]*\}?`}|${S`\d{1,3}`}`,qe=/[?*+][?+]?|\{(?:\d+(?:,\d*)?|,\d+)\}\??/,ge=new RegExp(S`
  \\ (?:
    ${Ze}
    | [gk]<[^>]*>?
    | [gk]'[^']*'?
    | .
  )
  | \( (?:
    \? (?:
      [:=!>({]
      | <[=!]
      | <[^>]*>
      | '[^']*'
      | ~\|?
      | #(?:[^)\\]|\\.?)*
      | [^:)]*[:)]
    )?
    | \*
  )?
  | ${qe.source}
  | ${Xe}
  | .
`.replace(/\s+/g,""),"gsu"),Ee=new RegExp(S`
  \\ (?:
    ${Ze}
    | .
  )
  | \[:(?:\^?\p{Alpha}+|\^):\]
  | ${Xe}
  | &&
  | .
`.replace(/\s+/g,""),"gsu");function Je(e,t={}){let r={flags:"",...t,rules:{captureGroup:!1,singleline:!1,...t.rules}};if(typeof e!="string")throw new Error("String expected as pattern");let s=Jt(r.flags),n=[s.extended],a={captureGroup:r.rules.captureGroup,getCurrentModX:()=>n.at(-1),numOpenGroups:0,popModX(){n.pop()},pushModX(u){n.push(u)},replaceCurrentModX(u){n[n.length-1]=u},singleline:r.rules.singleline},i=[],o;for(ge.lastIndex=0;o=ge.exec(e);){let u=Wt(a,e,o[0],ge.lastIndex);u.tokens?i.push(...u.tokens):u.token&&i.push(u.token),u.lastIndex!==void 0&&(ge.lastIndex=u.lastIndex)}let c=[],p=0;i.forEach(u=>{u.type===h.GroupOpen&&(u.kind===_.capturing?u.number=++p:u.raw==="("&&c.push(u))}),p||c.forEach((u,g)=>{u.kind=_.capturing,u.number=g+1});let l=p||c.length;return i=i.map(u=>u.type===h.EscapedNumber?er(u,l):u).flat(),{tokens:i,flags:s}}function Wt(e,t,r,s){let[n,a]=r;if(n==="["){let i=jt(t,r,s);return{tokens:i.tokens,lastIndex:i.lastIndex}}if(n==="\\"){if("AbBGyYzZ".includes(a))return{token:w(h.Assertion,r,{kind:r})};if(/^\\g[<']/.test(r)){if(!/^\\g(?:<[^>]+>|'[^']+')$/.test(r))throw new Error(`Invalid group name "${r}"`);return{token:w(h.Subroutine,r)}}if(/^\\k[<']/.test(r)){if(!/^\\k(?:<[^>]+>|'[^']+')$/.test(r))throw new Error(`Invalid group name "${r}"`);return{token:w(h.Backreference,r)}}if(a==="K")return{token:w(h.Directive,r,{kind:he.keep})};if(a==="N"||a==="R")return{token:w(h.CharacterSet,r,{kind:I.newline,negate:a==="N"})};if(a==="O")return{token:w(h.CharacterSet,r,{kind:I.any})};if(a==="X")return{token:w(h.CharacterSet,r,{kind:I.grapheme})};let i=Ye(r,{inCharClass:!1});return Array.isArray(i)?{tokens:i}:{token:i}}if(n==="("){if(r==="(*")throw new Error(`Unsupported named callout "${r}"`);if(r==="(?{")throw new Error(`Unsupported callout "${r}"`);if(r.startsWith("(?#")){if(t[s]!==")")throw new Error('Unclosed comment group "(?#"');return{lastIndex:s+1}}if(/^\(\?[-imx]+[:)]$/.test(r))return{token:Qt(r,e)};if(e.pushModX(e.getCurrentModX()),e.numOpenGroups++,r==="("&&!e.captureGroup||r==="(?:")return{token:w(h.GroupOpen,r,{kind:_.group})};if(r==="(?>")return{token:w(h.GroupOpen,r,{kind:_.atomic})};if(r==="(?="||r==="(?!"||r==="(?<="||r==="(?<!")return{token:w(h.GroupOpen,r,{kind:r[2]==="<"?_.lookbehind:_.lookahead,negate:r.endsWith("!")})};if(r==="("&&e.captureGroup||r.startsWith("(?<")&&r.endsWith(">")||r.startsWith("(?'")&&r.endsWith("'")){let i=w(h.GroupOpen,r,{kind:_.capturing});return r!=="("&&(i.name=r.slice(3,-1)),{token:i}}if(r.startsWith("(?~")){if(r==="(?~|")throw new Error(`Unsupported absent function kind "${r}"`);return{token:w(h.GroupOpen,r,{kind:_.absent_repeater})}}throw r==="(?("?new Error(`Unsupported conditional "${r}"`):new Error(`Invalid or unsupported group option "${r}"`)}if(r===")"){if(e.popModX(),e.numOpenGroups--,e.numOpenGroups<0)throw new Error('Unmatched ")"');return{token:w(h.GroupClose,r)}}if(r==="#"&&e.getCurrentModX()){let i=t.indexOf(`
`,s);return{lastIndex:i===-1?t.length:i}}if(/^\s$/.test(r)&&e.getCurrentModX()){let i=/\s+/y;return i.lastIndex=s,{lastIndex:i.exec(t)?i.lastIndex:s}}if(r===".")return{token:w(h.CharacterSet,r,{kind:I.dot})};if(r==="^"||r==="$"){let i=e.singleline?{"^":S`\A`,$:S`\Z`}[r]:r;return{token:w(h.Assertion,r,{kind:i})}}return r==="|"?{token:w(h.Alternator,r)}:qe.test(r)?{token:Xt(r)}:(et(r),{token:w(h.Character,r,{value:r.codePointAt(0)})})}function jt(e,t,r){let s=[w(h.CharacterClassOpen,t,{negate:t[1]==="^"})],n=1,a;for(Ee.lastIndex=r;a=Ee.exec(e);){let i=a[0];if(i[0]==="["&&i[1]!==":")n++,s.push(w(h.CharacterClassOpen,i,{negate:i[1]==="^"}));else if(i==="]"){if(s.at(-1).type===h.CharacterClassOpen)s.push(w(h.Character,i,{value:93}));else if(n--,s.push(w(h.CharacterClassClose,i)),!n)break}else{let o=Ht(i);Array.isArray(o)?s.push(...o):s.push(o)}}return{tokens:s,lastIndex:Ee.lastIndex||e.length}}function Ht(e){if(e[0]==="\\")return Ye(e,{inCharClass:!0});if(e[0]==="["){let t=/\[:(?<negate>\^?)(?<name>[a-z]+):\]/.exec(e);if(!t||!ie.has(t.groups.name))throw new Error(`Invalid POSIX class "${e}"`);return w(h.CharacterSet,e,{kind:I.posix,value:t.groups.name,negate:!!t.groups.negate})}return e==="-"?w(h.CharacterClassHyphen,e):e==="&&"?w(h.CharacterClassIntersector,e):(et(e),w(h.Character,e,{value:e.codePointAt(0)}))}function Ye(e,{inCharClass:t}){let r=e[1];if(r==="c"||r==="C")return Kt(e);if("dDhHsSwW".includes(r))return Zt(e);if(e.startsWith(S`\o{`))throw new Error(`Incomplete, invalid, or unsupported octal code point "${e}"`);if(/^\\[pP]\{/.test(e)){if(e.length===3)throw new Error(`Incomplete or invalid Unicode property "${e}"`);return qt(e)}if(/^\\x[89A-Fa-f]\p{AHex}/u.test(e))try{let s=e.split(/\\x/).slice(1).map(i=>parseInt(i,16)),n=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}).decode(new Uint8Array(s)),a=new TextEncoder;return[...n].map(i=>{let o=[...a.encode(i)].map(c=>`\\x${c.toString(16)}`).join("");return w(h.Character,o,{value:i.codePointAt(0)})})}catch{throw new Error(`Multibyte code "${e}" incomplete or invalid in Oniguruma`)}if(r==="u"||r==="x")return w(h.Character,e,{value:Yt(e)});if(Ke.has(r))return w(h.Character,e,{value:Ke.get(r)});if(/\d/.test(r))return w(h.EscapedNumber,e,{inCharClass:t});if(e==="\\")throw new Error(S`Incomplete escape "\"`);if(r==="M")throw new Error(`Unsupported meta "${e}"`);if([...e].length===2)return w(h.Character,e,{value:e.codePointAt(1)});throw new Error(`Unexpected escape "${e}"`)}function w(e,t,r){return{type:e,raw:t,...r}}function Kt(e){let t=e[1]==="c"?e[2]:e[3];if(!t||!/[A-Za-z]/.test(t))throw new Error(`Unsupported control character "${e}"`);return w(h.Character,e,{value:t.toUpperCase().codePointAt(0)-64})}function Qt(e,t){let{on:r,off:s}=/^\(\?(?<on>[imx]*)(?:-(?<off>[-imx]*))?/.exec(e).groups;s??="";let n=(t.getCurrentModX()||r.includes("x"))&&!s.includes("x"),a=Qe(r),i=Qe(s),o={};if(a&&(o.enable=a),i&&(o.disable=i),e.endsWith(")"))return t.replaceCurrentModX(n),w(h.Directive,e,{kind:he.flags,flags:o});if(e.endsWith(":")){t.pushModX(n),t.numOpenGroups++;let c=w(h.GroupOpen,e,{kind:_.group});return(a||i)&&(c.flags=o),c}throw new Error(`Unexpected flag modifier "${e}"`)}function Xt(e){let t={};if(e[0]==="{"){let{min:r,max:s}=/^\{(?<min>\d*)(?:,(?<max>\d*))?/.exec(e).groups,n=1e5;if(+r>n||+s>n)throw new Error("Quantifier value unsupported in Oniguruma");t.min=+r,t.max=s===void 0?+r:s===""?1/0:+s,t.kind=e.endsWith("?")?H.lazy:H.greedy}else t.min=e[0]==="+"?1:0,t.max=e[0]==="?"?1:1/0,t.kind=e[1]==="+"?H.possessive:e[1]==="?"?H.lazy:H.greedy;return w(h.Quantifier,e,t)}function Zt(e){let t=e[1].toLowerCase();return w(h.CharacterSet,e,{kind:{d:I.digit,h:I.hex,s:I.space,w:I.word}[t],negate:e[1]!==t})}function qt(e){let{p:t,neg:r,value:s}=/^\\(?<p>[pP])\{(?<neg>\^?)(?<value>[^}]+)/.exec(e).groups,n=t==="P"&&!r||t==="p"&&!!r;return w(h.CharacterSet,e,{kind:I.property,value:s,negate:n})}function Qe(e){let t={};return e.includes("i")&&(t.ignoreCase=!0),e.includes("m")&&(t.dotAll=!0),e.includes("x")&&(t.extended=!0),Object.keys(t).length?t:null}function Jt(e){if(!/^[imxDPSW]*$/.test(e))throw new Error(`Flags "${e}" includes unsupported value`);let t={ignoreCase:!1,dotAll:!1,extended:!1,digitIsAscii:!1,posixIsAscii:!1,spaceIsAscii:!1,wordIsAscii:!1};for(let r of e)t[{i:"ignoreCase",m:"dotAll",x:"extended",D:"digitIsAscii",P:"posixIsAscii",S:"spaceIsAscii",W:"wordIsAscii"}[r]]=!0;return t}function Yt(e){if(/^(?:\\u(?!\p{AHex}{4})|\\x(?!\p{AHex}{1,2}|\{\p{AHex}{1,8}\}))/u.test(e))throw new Error(`Incomplete or invalid escape "${e}"`);let t=e[2]==="{"?/^\\x\{\s*(?<hex>\p{AHex}+)/u.exec(e).groups.hex:e.slice(2);return parseInt(t,16)}function er(e,t){let{raw:r,inCharClass:s}=e,n=r.slice(1);if(!s&&(n!=="0"&&n.length===1||n[0]!=="0"&&+n<=t))return[w(h.Backreference,r)];let a=[],i=n.match(/^[0-7]+|\d/g);for(let o=0;o<i.length;o++){let c=i[o],p;if(o===0&&c!=="8"&&c!=="9"){if(p=parseInt(c,8),p>127)throw new Error(S`Octal encoded byte above 177 unsupported "${r}"`)}else p=c.codePointAt(0);a.push(w(h.Character,(o===0?"\\":"")+c,{value:p}))}return a}function et(e){if([...e].length!==1)throw new Error(`Expected "${e}" to be a single code point`)}var f={AbsentFunction:"AbsentFunction",Alternative:"Alternative",Assertion:"Assertion",Backreference:"Backreference",CapturingGroup:"CapturingGroup",Character:"Character",CharacterClass:"CharacterClass",CharacterClassRange:"CharacterClassRange",CharacterSet:"CharacterSet",Directive:"Directive",Flags:"Flags",Group:"Group",LookaroundAssertion:"LookaroundAssertion",Pattern:"Pattern",Quantifier:"Quantifier",Regex:"Regex",Subroutine:"Subroutine",Recursion:"Recursion"},Ce={repeater:"repeater"},y={grapheme_boundary:"grapheme_boundary",line_end:"line_end",line_start:"line_start",search_start:"search_start",string_end:"string_end",string_end_newline:"string_end_newline",string_start:"string_start",word_boundary:"word_boundary"},U={union:"union",intersection:"intersection"},b=I,Y=he,$e=H,D={lookahead:"lookahead",lookbehind:"lookbehind"};function we(e,t={}){let r={flags:"",normalizeUnknownPropertyNames:!1,skipBackrefValidation:!1,skipLookbehindValidation:!1,skipPropertyNameValidation:!1,unicodePropertyMap:null,...t,rules:{captureGroup:!1,singleline:!1,...t.rules}},s=Je(e,{flags:r.flags,rules:{captureGroup:r.rules.captureGroup,singleline:r.rules.singleline}}),n={capturingGroups:[],current:0,hasNumberedRef:!1,namedGroupsByName:new Map,normalizeUnknownPropertyNames:r.normalizeUnknownPropertyNames,parent:null,skipBackrefValidation:r.skipBackrefValidation,skipLookbehindValidation:r.skipLookbehindValidation,skipPropertyNameValidation:r.skipPropertyNameValidation,subroutines:[],token:null,tokens:s.tokens,unicodePropertyMap:r.unicodePropertyMap,walk:a};function a(g,d){let m=s.tokens[n.current];switch(n.parent=g,n.token=m,n.current++,m.type){case h.Alternator:return O();case h.Assertion:return ur(m);case h.Backreference:return tr(n);case h.Character:return ke(m.value,{useLastValid:!!d.isCheckingRangeEnd});case h.CharacterClassHyphen:return rr(n,d);case h.CharacterClassOpen:return nr(n,d);case h.CharacterSet:return sr(n);case h.Directive:return fr(L(Y[m.kind],`Unexpected directive kind "${m.kind}"`),{flags:m.flags});case h.GroupOpen:return ar(n,d);case h.Quantifier:return ir(n);case h.Subroutine:return or(n);default:throw new Error(`Unexpected token type "${m.type}"`)}}let i=mr(gr(),dr(s.flags)),o=i.pattern.alternatives[0];for(;n.current<s.tokens.length;){let g=a(o,{});g.type===f.Alternative?(i.pattern.alternatives.push(g),o=g):o.elements.push(g)}let{capturingGroups:c,hasNumberedRef:p,namedGroupsByName:l,subroutines:u}=n;if(p&&l.size&&!r.rules.captureGroup)throw new Error("Numbered backref/subroutine not allowed when using named capture");for(let{ref:g}of u)if(typeof g=="number"){if(g>c.length)throw new Error("Subroutine uses a group number that's not defined")}else if(l.has(g)){if(l.get(g).length>1)throw new Error(S`Subroutine uses a duplicate group name "\g<${g}>"`)}else throw new Error(S`Subroutine uses a group name that's not defined "\g<${g}>"`);return i}function tr(e){let{raw:t}=e.token,r=/^\\k[<']/.test(t),s=r?t.slice(3,-1):t.slice(1),n=(a,i=!1)=>{let o=e.capturingGroups.length,c=!1;if(a>o)if(e.skipBackrefValidation)c=!0;else throw new Error(`Not enough capturing groups defined to the left "${t}"`);return e.hasNumberedRef=!0,me(i?o+1-a:a,{orphan:c})};if(r){let a=/^(?<sign>-?)0*(?<num>[1-9]\d*)$/.exec(s);if(a)return n(+a.groups.num,!!a.groups.sign);if(/[-+]/.test(s))throw new Error(`Invalid backref name "${t}"`);if(!e.namedGroupsByName.has(s))throw new Error(`Group name not defined to the left "${t}"`);return me(s)}return n(+s)}function rr(e,t){let{parent:r,tokens:s,walk:n}=e,a=r.elements.at(-1),i=s[e.current];if(!t.isCheckingRangeEnd&&a&&a.type!==f.CharacterClass&&a.type!==f.CharacterClassRange&&i&&i.type!==h.CharacterClassOpen&&i.type!==h.CharacterClassClose&&i.type!==h.CharacterClassIntersector){let o=n(r,{...t,isCheckingRangeEnd:!0});if(a.type===f.Character&&o.type===f.Character)return r.elements.pop(),pr(a,o);throw new Error("Invalid character class range")}return ke(45)}function nr(e,t){let{token:r,tokens:s,walk:n}=e,a=s[e.current],i=[oe()],o=tt(a);for(;o.type!==h.CharacterClassClose;){if(o.type===h.CharacterClassIntersector)i.push(oe()),e.current++;else{let p=i.at(-1);p.elements.push(n(p,t))}o=tt(s[e.current],a)}let c=oe({negate:r.negate});return i.length===1?c.elements=i[0].elements:(c.kind=U.intersection,c.elements=i.map(p=>p.elements.length===1?p.elements[0]:p)),e.current++,c}function sr({token:e,normalizeUnknownPropertyNames:t,skipPropertyNameValidation:r,unicodePropertyMap:s}){let{kind:n,negate:a,value:i}=e;if(n===I.property){let o=te(i);if(ie.has(o)&&!s?.has(o))n=I.posix,i=o;else return K(i,{negate:a,normalizeUnknownPropertyNames:t,skipPropertyNameValidation:r,unicodePropertyMap:s})}return n===I.posix?hr(i,{negate:a}):ye(n,{negate:a})}function ar(e,t){let{token:r,tokens:s,capturingGroups:n,namedGroupsByName:a,skipLookbehindValidation:i,walk:o}=e,c=lr(r),p=c.type===f.AbsentFunction,l=c.kind===D.lookbehind,u=l&&c.negate;if(c.type===f.CapturingGroup&&(n.push(c),c.name&&He(a,c.name,[]).push(c)),p&&t.isInAbsentFunction)throw new Error("Nested absent function not supported by Oniguruma");let g=rt(s[e.current]);for(;g.type!==h.GroupClose;){if(g.type===h.Alternator)c.alternatives.push(O()),e.current++;else{let d=c.alternatives.at(-1),m=o(d,{...t,isInAbsentFunction:t.isInAbsentFunction||p,isInLookbehind:t.isInLookbehind||l,isInNegLookbehind:t.isInNegLookbehind||u});if(d.elements.push(m),(l||t.isInLookbehind)&&!i){let k="Lookbehind includes a pattern not allowed by Oniguruma";if(u||t.isInNegLookbehind){if(m.kind===D.lookahead||m.type===f.CapturingGroup)throw new Error(k)}else if(m.kind===D.lookahead||m.kind===D.lookbehind&&m.negate)throw new Error(k)}}g=rt(s[e.current])}return e.current++,c}function ir({token:e,parent:t}){let{min:r,max:s,kind:n}=e,a=t.elements.at(-1);if(!a||a.type===f.Assertion||a.type===f.Directive||a.type===f.LookaroundAssertion)throw new Error("Quantifier requires a repeatable token");let i=_e(a,r,s,L($e[n],`Unexpected quantifier kind "${n}"`));return t.elements.pop(),i}function or(e){let{token:t,capturingGroups:r,subroutines:s}=e,n=t.raw.slice(3,-1),a=/^(?<sign>[-+]?)0*(?<num>[1-9]\d*)$/.exec(n);if(a){let o=+a.groups.num,c=r.length;if(e.hasNumberedRef=!0,n={"":o,"+":c+o,"-":c+1-o}[a.groups.sign],n<1)throw new Error("Invalid subroutine number")}else n==="0"&&(n=0);let i=Cr(n);return s.push(i),i}function cr(e){if(e!==Ce.repeater)throw new Error(`Unexpected absent function kind "${e}"`);return{type:f.AbsentFunction,kind:e,alternatives:[O()]}}function O(){return{type:f.Alternative,elements:[]}}function Ie(e,t){let r={type:f.Assertion,kind:e};return(e===y.word_boundary||e===y.grapheme_boundary)&&(r.negate=!!t?.negate),r}function ur({kind:e}){return Ie(L({"^":y.line_start,$:y.line_end,"\\A":y.string_start,"\\b":y.word_boundary,"\\B":y.word_boundary,"\\G":y.search_start,"\\y":y.grapheme_boundary,"\\Y":y.grapheme_boundary,"\\z":y.string_end,"\\Z":y.string_end_newline}[e],`Unexpected assertion kind "${e}"`),{negate:e===S`\B`||e===S`\Y`})}function me(e,t){let r=!!t?.orphan;return{type:f.Backreference,ref:e,...r&&{orphan:r}}}function lr({flags:e,kind:t,name:r,negate:s,number:n}){switch(t){case _.absent_repeater:return cr(Ce.repeater);case _.atomic:return P({atomic:!0});case _.capturing:return Se(n,r);case _.group:return P({flags:e});case _.lookahead:case _.lookbehind:return ee({behind:t===_.lookbehind,negate:s});default:throw new Error(`Unexpected group kind "${t}"`)}}function Se(e,t){let r=t!==void 0;if(r&&!wr(t))throw new Error(`Group name "${t}" invalid in Oniguruma`);return{type:f.CapturingGroup,number:e,...r&&{name:t},alternatives:[O()]}}function ke(e,t){let r={useLastValid:!1,...t};if(e>1114111){let s=e.toString(16);if(r.useLastValid)e=1114111;else throw e>1310719?new Error(`Invalid code point out of range "\\x{${s}}"`):new Error(`Invalid code point out of range in JS "\\x{${s}}"`)}return{type:f.Character,value:e}}function oe(e){let t={kind:U.union,negate:!1,...e};return{type:f.CharacterClass,kind:t.kind,negate:t.negate,elements:[]}}function pr(e,t){if(t.value<e.value)throw new Error("Character class range out of order");return{type:f.CharacterClassRange,min:e,max:t}}function ye(e,t){let r=!!t?.negate,s={type:f.CharacterSet,kind:L(b[e],`Unexpected character set kind "${e}"`)};return(e===I.digit||e===I.hex||e===I.newline||e===I.space||e===I.word)&&(s.negate=r),(e===I.grapheme||e===I.newline&&!r)&&(s.variableLength=!0),s}function fr(e,t){let r={type:f.Directive,kind:e};return e===Y.flags&&(r.flags=t.flags),r}function dr(e){return{type:f.Flags,...e}}function P(e){let t=e?.atomic,r=e?.flags;return{type:f.Group,...t&&{atomic:t},...r&&{flags:r},alternatives:[O()]}}function ee(e){let t={behind:!1,negate:!1,...e};return{type:f.LookaroundAssertion,kind:t.behind?D.lookbehind:D.lookahead,negate:t.negate,alternatives:[O()]}}function gr(){return{type:f.Pattern,alternatives:[O()]}}function hr(e,t){let r=!!t?.negate;if(!ie.has(e))throw new Error(`Invalid POSIX class "${e}"`);return{type:f.CharacterSet,kind:b.posix,value:e,negate:r}}function _e(e,t,r,s=$e.greedy){let n={type:f.Quantifier,min:t,max:r,kind:s,element:e};return r<t?{...n,min:r,max:t,kind:$e.possessive}:n}function mr(e,t){return{type:f.Regex,pattern:e,flags:t}}function Cr(e){return{type:f.Subroutine,ref:e}}function K(e,t){let r={negate:!1,normalizeUnknownPropertyNames:!1,skipPropertyNameValidation:!1,unicodePropertyMap:null,...t},s=r.unicodePropertyMap?.get(te(e));if(!s){if(r.normalizeUnknownPropertyNames)s=kr(e);else if(r.unicodePropertyMap&&!r.skipPropertyNameValidation)throw new Error(S`Invalid Unicode property "\p{${e}}"`)}return{type:f.CharacterSet,kind:b.property,value:s??e,negate:r.negate}}function wr(e){return/^[\p{Alpha}\p{Pc}][^)]*$/u.test(e)}function kr(e){return e.trim().replace(/[- _]+/g,"_").replace(/[A-Z][a-z]+(?=[A-Z])/g,"$&_").replace(/[A-Za-z]+/g,t=>t[0].toUpperCase()+t.slice(1).toLowerCase())}function te(e){return e.replace(/[- _]+/g,"").toLowerCase()}function tt(e,t){return L(e,`${t?.value===93?"Empty":"Unclosed"} character class`)}function rt(e){return L(e,"Unclosed group")}var nt="[	-\r ]",T=C`[\p{L}\p{M}\p{N}\p{Pc}]`,yr=new Set([$(304),$(305)]);function Fe(e){if(yr.has(e))return[e];let t=new Set,r=e.toLowerCase(),s=r.toUpperCase(),n=Ar.get(r),a=xr.get(r),i=br.get(r);return[...s].length===1&&t.add(s),i&&t.add(i),n&&t.add(n),t.add(r),a&&t.add(a),[...t]}var ce=new Map(`C Other
Cc Control cntrl
Cf Format
Cn Unassigned
Co Private_Use
Cs Surrogate
L Letter
LC Cased_Letter
Ll Lowercase_Letter
Lm Modifier_Letter
Lo Other_Letter
Lt Titlecase_Letter
Lu Uppercase_Letter
M Mark Combining_Mark
Mc Spacing_Mark
Me Enclosing_Mark
Mn Nonspacing_Mark
N Number
Nd Decimal_Number digit
Nl Letter_Number
No Other_Number
P Punctuation punct
Pc Connector_Punctuation
Pd Dash_Punctuation
Pe Close_Punctuation
Pf Final_Punctuation
Pi Initial_Punctuation
Po Other_Punctuation
Ps Open_Punctuation
S Symbol
Sc Currency_Symbol
Sk Modifier_Symbol
Sm Math_Symbol
So Other_Symbol
Z Separator
Zl Line_Separator
Zp Paragraph_Separator
Zs Space_Separator
ASCII
ASCII_Hex_Digit AHex
Alphabetic Alpha
Any
Assigned
Bidi_Control Bidi_C
Bidi_Mirrored Bidi_M
Case_Ignorable CI
Cased
Changes_When_Casefolded CWCF
Changes_When_Casemapped CWCM
Changes_When_Lowercased CWL
Changes_When_NFKC_Casefolded CWKCF
Changes_When_Titlecased CWT
Changes_When_Uppercased CWU
Dash
Default_Ignorable_Code_Point DI
Deprecated Dep
Diacritic Dia
Emoji
Emoji_Component EComp
Emoji_Modifier EMod
Emoji_Modifier_Base EBase
Emoji_Presentation EPres
Extended_Pictographic ExtPict
Extender Ext
Grapheme_Base Gr_Base
Grapheme_Extend Gr_Ext
Hex_Digit Hex
IDS_Binary_Operator IDSB
IDS_Trinary_Operator IDST
ID_Continue IDC
ID_Start IDS
Ideographic Ideo
Join_Control Join_C
Logical_Order_Exception LOE
Lowercase Lower
Math
Noncharacter_Code_Point NChar
Pattern_Syntax Pat_Syn
Pattern_White_Space Pat_WS
Quotation_Mark QMark
Radical
Regional_Indicator RI
Sentence_Terminal STerm
Soft_Dotted SD
Terminal_Punctuation Term
Unified_Ideograph UIdeo
Uppercase Upper
Variation_Selector VS
White_Space space
XID_Continue XIDC
XID_Start XIDS`.split(/\s/).map(e=>[te(e),e])),xr=new Map([["s",$(383)],[$(383),"s"]]),br=new Map([[$(223),$(7838)],[$(107),$(8490)],[$(229),$(8491)],[$(969),$(8486)]]),Ar=new Map([j(453),j(456),j(459),j(498),...ve(8072,8079),...ve(8088,8095),...ve(8104,8111),j(8124),j(8140),j(8188)]),st=new Map([["alnum",C`[\p{Alpha}\p{Nd}]`],["alpha",C`\p{Alpha}`],["ascii",C`\p{ASCII}`],["blank",C`[\p{Zs}\t]`],["cntrl",C`\p{Cc}`],["digit",C`\p{Nd}`],["graph",C`[\P{space}&&\P{Cc}&&\P{Cn}&&\P{Cs}]`],["lower",C`\p{Lower}`],["print",C`[[\P{space}&&\P{Cc}&&\P{Cn}&&\P{Cs}]\p{Zs}]`],["punct",C`[\p{P}\p{S}]`],["space",C`\p{space}`],["upper",C`\p{Upper}`],["word",C`[\p{Alpha}\p{M}\p{Nd}\p{Pc}]`],["xdigit",C`\p{AHex}`]]);function Er(e,t){let r=[];for(let s=e;s<=t;s++)r.push(s);return r}function j(e){let t=$(e);return[t.toLowerCase(),t]}function ve(e,t){return Er(e,t).map(r=>j(r))}var Ne=new Set(["Lower","Lowercase","Upper","Uppercase","Ll","Lowercase_Letter","Lt","Titlecase_Letter","Lu","Uppercase_Letter"]);var Me=String.raw,at=Me`(?:\p{Emoji}\uFE0F\u20E3?|\p{Emoji_Modifier_Base}\p{Emoji_Modifier}?|\p{Emoji_Presentation})`,it=Me`\u{E0061}-\u{E007A}`,ot=()=>new RegExp(Me`[\u{1F1E6}-\u{1F1FF}]{2}|\u{1F3F4}[${it}]{2}[\u{E0030}-\u{E0039}${it}]{1,3}\u{E007F}|${at}(?:\u200D${at})*`,"gu");function Q(e,t,r=null){function s(a,i){for(let o=0;o<a.length;o++){let c=n(a[o],i,o,a);o=Math.max(-1,o+c)}}function n(a,i=null,o=null,c=null){let p="Container expected",l=0,u=!1,g={node:a,parent:i,key:o,container:c,root:e,remove(){L(c,p).splice(Math.max(0,o+l),1),l--,u=!0},removeAllNextSiblings(){return L(c,p).splice(o+1)},removeAllPrevSiblings(){let E=o+l;return l-=E,L(c,p).splice(0,Math.max(0,E))},replaceWith(E,F={}){let M=!!F.traverse;c?c[Math.max(0,o+l)]=E:i[o]=E,M&&n(E,i,o,c),u=!0},replaceWithMultiple(E,F={}){let M=!!F.traverse;if(L(c,p).splice(Math.max(0,o+l),1,...E),l+=E.length-1,M){let v=0;for(let G=0;G<E.length;G++)v+=n(E[G],i,o+G+v,c)}u=!0},skip(){u=!0}},d=t["*"],m=t[a.type],k=typeof d=="function"?d:d?.enter,A=typeof m=="function"?m:m?.enter;if(k?.(g,r),A?.(g,r),!u)switch(a.type){case f.Regex:n(a.pattern,a,"pattern"),n(a.flags,a,"flags");break;case f.Alternative:case f.CharacterClass:s(a.elements,a);break;case f.Assertion:case f.Backreference:case f.Character:case f.CharacterSet:case f.Directive:case f.Flags:case f.Recursion:case f.Subroutine:break;case f.AbsentFunction:case f.CapturingGroup:case f.Group:case f.Pattern:s(a.alternatives,a);break;case f.CharacterClassRange:n(a.min,a,"min"),n(a.max,a,"max");break;case f.LookaroundAssertion:s(a.alternatives,a);break;case f.Quantifier:n(a.element,a,"element");break;default:throw new Error(`Unexpected node type "${a.type}"`)}return d?.exit?.(g,r),m?.exit?.(g,r),l}n(e)}function ut(e,t){let r={accuracy:"default",asciiWordBoundaries:!1,avoidSubclass:!1,bestEffortTarget:"ES2025",...t};lt(e);let s={accuracy:r.accuracy,asciiWordBoundaries:r.asciiWordBoundaries,avoidSubclass:r.avoidSubclass,flagDirectivesByAlt:new Map,jsGroupNameMap:new Map,minTargetEs2024:ae(r.bestEffortTarget,"ES2024"),passedLookbehind:!1,strategy:null,subroutineRefMap:new Map,supportedGNodes:new Set,digitIsAscii:e.flags.digitIsAscii,spaceIsAscii:e.flags.spaceIsAscii,wordIsAscii:e.flags.wordIsAscii};Q(e,$r,s);let n={dotAll:e.flags.dotAll,ignoreCase:e.flags.ignoreCase},a={currentFlags:n,prevFlags:null,globalFlags:n,groupOriginByCopy:new Map,groupsByName:new Map,multiplexCapturesToLeftByRef:new Map,openRefs:new Map,reffedNodesByReferencer:new Map,subroutineRefMap:s.subroutineRefMap};Q(e,Ir,a);let i={groupsByName:a.groupsByName,highestOrphanBackref:0,numCapturesToLeft:0,reffedNodesByReferencer:a.reffedNodesByReferencer};return Q(e,Sr,i),e._originMap=a.groupOriginByCopy,e._strategy=s.strategy,e}var $r={AbsentFunction({node:e,parent:t,replaceWith:r}){let{kind:s,alternatives:n}=e;if(s===Ce.repeater){let a=z(P(),[re(ee({negate:!0}),n),K("Any")]),i=_e(a,0,1/0);a.parent=i,r(x(z(P(),[i]),t),{traverse:!0})}else throw new Error(`Unexpected absent function kind "${s}"`)},Alternative:{enter({node:e,parent:t,key:r},{flagDirectivesByAlt:s}){let n=e.elements.filter(a=>a.kind===Y.flags);for(let a=r+1;a<t.alternatives.length;a++){let i=t.alternatives[a];W(s,i,[]).push(...n)}},exit({node:e},{flagDirectivesByAlt:t}){if(t.get(e)?.length){let r=ft(t.get(e));if(r){let s=x(z(P({flags:r}),e.elements),e);e.elements=[s]}}}},Assertion({node:e,parent:t,key:r,container:s,root:n,remove:a,replaceWith:i},o){let{kind:c,negate:p}=e,{asciiWordBoundaries:l,avoidSubclass:u,supportedGNodes:g,wordIsAscii:d}=o;if(c===y.grapheme_boundary)throw new Error(`Unsupported grapheme boundary "\\${p?"Y":"y"}"`);if(c===y.line_end)i(x(B(C`(?=\z|\n)`),t));else if(c===y.line_start)i(x(B(C`(?<=\A|\n(?!\z))`,{skipLookbehindValidation:!0}),t));else if(c===y.search_start)if(g.has(e))n.flags.sticky=!0,a();else{let m=s[r-1];if(m&&Pr(m))i(x(z(ee({negate:!0})),t));else{if(u)throw new Error(C`Uses "\G" in a way that requires a subclass`);i(x(Ie(y.string_start),t)),o.strategy="clip_search"}}else if(!(c===y.string_end||c===y.string_start))if(c===y.string_end_newline)i(x(B(C`(?=\n?\z)`),t));else if(c===y.word_boundary){if(!d&&!l){let m=`(?:(?<=${T})(?!${T})|(?<!${T})(?=${T}))`,k=`(?:(?<=${T})(?=${T})|(?<!${T})(?!${T}))`;i(x(B(p?k:m),t))}}else throw new Error(`Unexpected assertion kind "${c}"`)},Backreference({node:e},{jsGroupNameMap:t}){let{ref:r}=e;typeof r=="string"&&!Ge(r)&&(r=Pe(r,t),e.ref=r)},CapturingGroup({node:e},{jsGroupNameMap:t,subroutineRefMap:r}){let{name:s}=e;s&&!Ge(s)&&(s=Pe(s,t),e.name=s),r.set(e.number,e),s&&r.set(s,e)},CharacterClassRange({node:e,parent:t,replaceWith:r}){t.kind===U.intersection&&r(x(re(oe(),[e]),t),{traverse:!0})},CharacterSet({node:e,parent:t,replaceWith:r},{accuracy:s,minTargetEs2024:n,digitIsAscii:a,spaceIsAscii:i,wordIsAscii:o}){let{kind:c,negate:p,value:l}=e;if(a&&(c===b.digit||l==="digit")){r(x(ye(b.digit,{negate:p}),t));return}if(i&&(c===b.space||l==="space")){r(x(Le(B(nt),p),t));return}if(o&&(c===b.word||l==="word")){r(x(ye(b.word,{negate:p}),t));return}if(c===b.any)r(x(K("Any"),t));else if(c===b.digit)r(x(K("Nd",{negate:p}),t));else if(c!==b.dot)if(c===b.grapheme){if(s==="strict")throw new Error(C`Use of "\X" requires non-strict accuracy`);let u=n?C`\p{RGI_Emoji}`:ot().source.replace(/\\u\{/g,"\\x{");r(x(B(C`(?>\r\n|${u}|\P{M}\p{M}*)`,{skipPropertyNameValidation:!0}),t))}else if(c===b.hex)r(x(K("AHex",{negate:p}),t));else if(c===b.newline)r(x(B(p?`[^
]`:`(?>\r
?|[
\v\f\x85\u2028\u2029])`),t));else if(c===b.posix)if(!n&&(l==="graph"||l==="print")){if(s==="strict")throw new Error(`POSIX class "${l}" requires min target ES2024 or non-strict accuracy`);let u={graph:"!-~",print:" -~"}[l];p&&(u=`\0-${$(u.codePointAt(0)-1)}${$(u.codePointAt(2)+1)}-\u{10FFFF}`),r(x(B(`[${u}]`),t))}else r(x(Le(B(st.get(l)),p),t));else if(c===b.property)ce.has(te(l))||(e.key="sc");else if(c===b.space)r(x(K("space",{negate:p}),t));else if(c===b.word)r(x(Le(B(T),p),t));else throw new Error(`Unexpected character set kind "${c}"`)},Directive({node:e,parent:t,root:r,remove:s,replaceWith:n,removeAllPrevSiblings:a,removeAllNextSiblings:i}){let{kind:o,flags:c}=e;if(o===Y.flags)!c.enable&&!c.disable?s():n(x(z(P({flags:c}),i()),t),{traverse:!0});else if(o===Y.keep){let p=r.pattern.alternatives[0].elements[0],u=mt(r.pattern,g=>g.type===f.Group)&&p.alternatives.length===1?p:r.pattern;if(t.parent!==u||u.alternatives.length>1)throw new Error(C`Uses "\K" in a way that's unsupported`);n(x(z(ee({behind:!0}),a()),t))}else throw new Error(`Unexpected directive kind "${o}"`)},Flags({node:e,parent:t}){if(e.posixIsAscii)throw new Error('Unsupported flag "P"');["digitIsAscii","extended","posixIsAscii","spaceIsAscii","wordIsAscii"].forEach(r=>delete e[r]),Object.assign(e,{global:!1,hasIndices:!1,multiline:!1,sticky:e.sticky??!1}),t.options={disable:{x:!0,n:!0},force:{v:!0}}},Group({node:e}){if(!e.flags)return;let{enable:t,disable:r}=e.flags;t?.extended&&delete t.extended,r?.extended&&delete r.extended,t?.dotAll&&r?.dotAll&&delete t.dotAll,t?.ignoreCase&&r?.ignoreCase&&delete t.ignoreCase,t&&!Object.keys(t).length&&delete e.flags.enable,r&&!Object.keys(r).length&&delete e.flags.disable,!e.flags.enable&&!e.flags.disable&&delete e.flags},LookaroundAssertion({node:e},t){let{kind:r}=e;r===D.lookbehind&&(t.passedLookbehind=!0)},Pattern:{enter({node:e},{supportedGNodes:t}){let r=[],s=!1,n=!1;for(let a of e.alternatives)if(a.elements.length===1&&a.elements[0].kind===y.search_start)a.elements.pop();else{let i=gt(a.elements);i?(s=!0,Array.isArray(i)?r.push(...i):r.push(i)):n=!0}s&&!n&&r.forEach(a=>t.add(a))},exit(e,{accuracy:t,passedLookbehind:r,strategy:s}){if(t==="strict"&&r&&s)throw new Error(C`Uses "\G" in a way that requires non-strict accuracy`)}},Quantifier({node:e}){if(e.element.type===f.Quantifier){let t=x(z(P(),[e.element]),e);e.element=t}},Subroutine({node:e},{jsGroupNameMap:t}){let{ref:r}=e;typeof r=="string"&&!Ge(r)&&(r=Pe(r,t),e.ref=r)}},Ir={Backreference({node:e},{multiplexCapturesToLeftByRef:t,reffedNodesByReferencer:r}){let{orphan:s,ref:n}=e;s||r.set(e,[...t.get(n).map(({node:a})=>a)])},CapturingGroup:{enter({node:e,parent:t,replaceWith:r,skip:s},{groupOriginByCopy:n,groupsByName:a,multiplexCapturesToLeftByRef:i,openRefs:o,reffedNodesByReferencer:c}){let p=n.get(e);if(p&&o.has(e.number)){let u=x(ct(e.number),t);c.set(u,o.get(e.number)),r(u);return}o.set(e.number,e),i.set(e.number,[]),e.name&&W(i,e.name,[]);let l=i.get(e.name??e.number);for(let u=0;u<l.length;u++){let g=l[u];if(p===g.node||p&&p===g.origin||e===g.origin){l.splice(u,1);break}}if(i.get(e.number).push({node:e,origin:p}),e.name&&i.get(e.name).push({node:e,origin:p}),e.name){let u=W(a,e.name,new Map),g=!1;if(p)g=!0;else for(let d of u.values())if(!d.hasDuplicateNameToRemove){g=!0;break}a.get(e.name).set(e,{node:e,hasDuplicateNameToRemove:g})}},exit({node:e},{openRefs:t}){t.delete(e.number)}},Group:{enter({node:e},t){t.prevFlags=t.currentFlags,e.flags&&(t.currentFlags=J(t.currentFlags,e.flags))},exit(e,t){t.currentFlags=t.prevFlags}},Recursion({node:e,parent:t},{reffedNodesByReferencer:r}){let{ref:s}=e,n=t;for(;(n=n.parent)&&!(n.type===f.CapturingGroup&&(n.name===s||n.number===s)););r.set(e,n)},Subroutine({node:e,parent:t,replaceWith:r},s){let{ref:n}=e,a=s.subroutineRefMap.get(n),i=n===0,o=i?ct(0):pt(a,s.groupOriginByCopy,null),c=o;if(!i){let p=ft(Fr(a,u=>u.type===f.Group&&!!u.flags)),l=p?J(s.globalFlags,p):s.globalFlags;_r(l,s.currentFlags)||(c=z(P({flags:Nr(l)}),[o]))}r(x(c,t),{traverse:!i})}},Sr={Backreference({node:e,parent:t,replaceWith:r},s){if(e.orphan){s.highestOrphanBackref=Math.max(s.highestOrphanBackref,e.ref);return}let a=s.reffedNodesByReferencer.get(e).filter(i=>vr(i,e));if(!a.length)r(x(z(ee({negate:!0})),t));else if(a.length>1){let i=a.map(o=>re(O(),[me(o.number)]));r(x(re(P(),i),t))}else e.ref=a[0].number},CapturingGroup({node:e},t){e.number=++t.numCapturesToLeft,e.name&&t.groupsByName.get(e.name).get(e).hasDuplicateNameToRemove&&delete e.name},Recursion({node:e},t){e.ref!==0&&(e.ref=t.reffedNodesByReferencer.get(e).number)},Regex:{exit({node:e},t){let r=Math.max(t.highestOrphanBackref-t.numCapturesToLeft,0);for(let s=0;s<r;s++){let n=Se();e.pattern.alternatives.at(-1).elements.push(n)}}}};function lt(e){Q(e,{"*"({node:t,parent:r}){t.parent=r}})}function re(e,t){return t.forEach(r=>r.parent=e),e[Re(e)]=t,e}function _r(e,t){return e.dotAll===t.dotAll&&e.ignoreCase===t.ignoreCase}function vr(e,t){let r=t;do{if(r.type===f.Pattern)return!1;if(r.type===f.Alternative)continue;if(r===e)return!1;let s=dt(r.parent);for(let n of s){if(n===r)break;if(n===e||ht(n,e))return!0}}while(r=r.parent);throw new Error("Unexpected path")}function pt(e,t,r,s){let n=Array.isArray(e)?[]:{};for(let[a,i]of Object.entries(e))a==="parent"?n.parent=Array.isArray(r)?s:r:i&&typeof i=="object"?n[a]=pt(i,t,n,r):(a==="type"&&i===f.CapturingGroup&&t.set(n,t.get(e)??e),n[a]=i);return n}function ct(e){return{type:f.Recursion,ref:e}}function Fr(e,t){let r=[];for(;e=e.parent;)(!t||t(e))&&r.push(e);return r}function Pe(e,t){if(t.has(e))return t.get(e);let r=`$${t.size}_${e.replace(/^[^$_\p{IDS}]|[^$\u200C\u200D\p{IDC}]/ug,"_")}`;return t.set(e,r),r}function Re(e){for(let t of["alternatives","elements"])if(e[t])return t;return null}function ft(e){let t=["dotAll","ignoreCase"],r={enable:{},disable:{}};return e.forEach(({flags:s})=>{t.forEach(n=>{s.enable?.[n]&&(delete r.disable[n],r.enable[n]=!0),s.disable?.[n]&&(r.disable[n]=!0)})}),Object.keys(r.enable).length||delete r.enable,Object.keys(r.disable).length||delete r.disable,r.enable||r.disable?r:null}function Nr({dotAll:e,ignoreCase:t}){let r={};return(e||t)&&(r.enable={},e&&(r.enable.dotAll=!0),t&&(r.enable.ignoreCase=!0)),(!e||!t)&&(r.disable={},!e&&(r.disable.dotAll=!0),!t&&(r.disable.ignoreCase=!0)),r}function dt(e){if(!e)throw new Error("Node expected");if(e.type===f.Quantifier)return[e.element];let t=Re(e);return t&&e[t]}function gt(e){let t=e.find(r=>r.kind===y.search_start||Gr(r,{negate:!1})||!Mr(r));if(!t)return null;if(t.kind===y.search_start)return t;if(t.type===f.LookaroundAssertion)return t.alternatives[0].elements[0];if(t.type===f.CapturingGroup||t.type===f.Group){let r=[];for(let s of t.alternatives){let n=gt(s.elements);if(!n)return null;Array.isArray(n)?r.push(...n):r.push(n)}return r}return null}function ht(e,t){let r=dt(e)??[];for(let s of r)if(s===t||ht(s,t))return!0;return!1}function mt({alternatives:e},t){return e.length===1&&e[0].elements.length===1&&(!t||t(e[0].elements[0]))}function Mr({type:e}){return e===f.Assertion||e===f.Directive||e===f.LookaroundAssertion}function Pr(e){let t=[f.Character,f.CharacterClass,f.CharacterSet];return t.includes(e.type)||e.type===f.Quantifier&&e.min&&t.includes(e.element.type)}function Gr(e,t){let r={negate:null,...t};return e.type===f.LookaroundAssertion&&(r.negate===null||e.negate===r.negate)&&mt(e,s=>s.kind===y.search_start)}function Ge(e){return/^[$_\p{IDS}][$\u200C\u200D\p{IDC}]*$/u.test(e)}function B(e,t){let r=we(e,{...t,unicodePropertyMap:ce});lt(r);let s=r.pattern.alternatives;return s.length>1||s[0].elements.length>1?re(P(),s):s[0].elements[0]}function z(e,t){let r=Re(e);return e[r][0].parent=e,t&&re(e[r][0],t),e}function Le(e,t){return e.negate=t,e}function x(e,t){return e.parent=t,e}function yt(e,t){let r=de(t),s=ae(r.target,"ES2024"),n=ae(r.target,"ES2025"),a=r.rules.recursionLimit;if(!Number.isInteger(a)||a<2||a>20)throw new Error("Invalid recursionLimit; use 2-20");let i=null,o=null;if(!n){let d=[e.flags.ignoreCase];Q(e,Lr,{getCurrentModI:()=>d.at(-1),popModI(){d.pop()},pushModI(m){d.push(m)},setHasCasedChar(){d.at(-1)?i=!0:o=!0}})}let c={dotAll:e.flags.dotAll,ignoreCase:!!((e.flags.ignoreCase||i)&&!o)},p=null,l={accuracy:r.accuracy,appliedGlobalFlags:c,captureMap:new Map,currentFlags:{dotAll:e.flags.dotAll,ignoreCase:e.flags.ignoreCase},inCharClass:!1,lastNode:p,originMap:e._originMap,recursionLimit:a,useAppliedIgnoreCase:!!(!n&&i&&o),useFlagMods:n,useFlagV:s,verbose:r.verbose};function u(d){switch(l.lastNode=p,p=d,d.type){case f.Regex:return{pattern:u(d.pattern),flags:u(d.flags),options:{...d.options}};case f.Alternative:return d.elements.map(u).join("");case f.Assertion:return Tr(d);case f.Backreference:return Br(d,l);case f.CapturingGroup:return zr(d,l,u);case f.Character:return Vr(d,l);case f.CharacterClass:return Wr(d,l,u);case f.CharacterClassRange:return jr(d,l);case f.CharacterSet:return Hr(d,l);case f.Flags:return Kr(d,l);case f.Group:return Qr(d,l,u);case f.LookaroundAssertion:return Xr(d,l,u);case f.Pattern:return d.alternatives.map(u).join("|");case f.Quantifier:return u(d.element)+Yr(d);case f.Recursion:return Zr(d,l);default:throw new Error(`Unexpected node type "${d.type}"`)}}let g=u(e);return s||(delete g.options.force.v,g.options.disable.v=!0,g.options.unicodeSetsPlugin=null),g._captureTransfers=new Map,g._hiddenCaptures=[],l.captureMap.forEach((d,m)=>{d.hidden&&g._hiddenCaptures.push(m),d.transferTo&&W(g._captureTransfers,d.transferTo,[]).push(m)}),g}var Lr={"*":{enter({node:e},t){if(wt(e)){let r=t.getCurrentModI();t.pushModI(e.flags?J({ignoreCase:r},e.flags).ignoreCase:r)}},exit({node:e},t){wt(e)&&t.popModI()}},Backreference(e,t){t.setHasCasedChar()},Character({node:e},t){Ue($(e.value))&&t.setHasCasedChar()},CharacterClassRange({node:e,skip:t},r){t(),xt(e,{firstOnly:!0}).length&&r.setHasCasedChar()},CharacterSet({node:e},t){e.kind===b.property&&Ne.has(e.value)&&t.setHasCasedChar()}},Rr=new Set(["$","(",")","*","+",".","?","[","\\","]","^","{","|","}"]),Ur=new Set(["-","\\","]","^","["]),Or=new Set(["(",")","-","/","[","\\","]","^","{","|","}","!","#","$","%","&","*","+",",",".",":",";","<","=",">","?","@","`","~"]),Ct=new Map([[9,C`\t`],[10,C`\n`],[11,C`\v`],[12,C`\f`],[13,C`\r`],[8232,C`\u2028`],[8233,C`\u2029`],[65279,C`\uFEFF`]]),Dr=/^\p{Cased}$/u;function Ue(e){return Dr.test(e)}function Tr({kind:e,negate:t}){if(e===y.string_end)return"$";if(e===y.string_start)return"^";if(e===y.word_boundary)return t?C`\B`:C`\b`;throw new Error(`Unexpected assertion kind "${e}"`)}function Br({ref:e},t){if(typeof e!="number")throw new Error("Unexpected named backref in transformed AST");if(!t.useFlagMods&&t.accuracy==="strict"&&t.currentFlags.ignoreCase&&!t.captureMap.get(e).ignoreCase)throw new Error("Use of case-insensitive backref to case-sensitive group requires target ES2025 or non-strict accuracy");return"\\"+e}function zr(e,t,r){let{name:s,number:n,alternatives:a}=e,i={ignoreCase:t.currentFlags.ignoreCase},o=t.originMap.get(e);return o&&(i.hidden=!0,n>o.number&&(i.transferTo=o.number)),t.captureMap.set(n,i),`(${s?`?<${s}>`:""}${a.map(r).join("|")})`}function Vr({value:e},t){let r=$(e),s=ne(e,{escDigit:t.lastNode.type===f.Backreference,inCharClass:t.inCharClass,useFlagV:t.useFlagV});if(s!==r)return s;if(t.useAppliedIgnoreCase&&t.currentFlags.ignoreCase&&Ue(r)){let n=Fe(r);return t.inCharClass?n.join(""):n.length>1?`[${n.join("")}]`:n[0]}return r}function Wr(e,t,r){let{kind:s,negate:n,parent:a}=e,{elements:i}=e;if(s===U.intersection&&!t.useFlagV)throw new Error("Use of class intersection requires min target ES2024");V.literalHyphenIncorrectlyCreatesRange&&t.useFlagV&&i.some(kt)&&(i=i.filter(p=>!kt(p)),i.push(ke(45)));let o=()=>`[${n?"^":""}${i.map(r).join(s===U.intersection?"&&":"")}]`;if(!t.inCharClass){if(!t.useFlagV&&!n){let l=i.filter(u=>u.type===f.CharacterClass&&u.kind===U.union&&u.negate);if(l.length){let u=P(),g=u.alternatives[0];return u.parent=a,g.parent=u,i=i.filter(d=>!l.includes(d)),e.elements=i,i.length?(e.parent=g,g.elements.push(e)):u.alternatives.pop(),l.forEach(d=>{let m=O();m.parent=u,d.parent=m,m.elements.push(d),u.alternatives.push(m)}),r(u)}}t.inCharClass=!0;let p=o();return t.inCharClass=!1,p}let c=i[0];if(s===U.union&&!n&&c&&((!t.useFlagV||!t.verbose)&&a.kind===U.union&&!(V.literalHyphenIncorrectlyCreatesRange&&t.useFlagV)||!t.verbose&&a.kind===U.intersection&&i.length===1&&c.type!==f.CharacterClassRange))return i.map(r).join("");if(!t.useFlagV&&a.type===f.CharacterClass)throw new Error("Use of nested character class requires min target ES2024");return o()}function jr(e,t){let r=e.min.value,s=e.max.value,n={escDigit:!1,inCharClass:!0,useFlagV:t.useFlagV},a=ne(r,n),i=ne(s,n),o=new Set;if(t.useAppliedIgnoreCase&&t.currentFlags.ignoreCase){let c=xt(e);qr(c).forEach(l=>{o.add(Array.isArray(l)?`${ne(l[0],n)}-${ne(l[1],n)}`:ne(l,n))})}return`${a}-${i}${[...o].join("")}`}function Hr({kind:e,negate:t,value:r,key:s},n){if(e===b.dot)return n.currentFlags.dotAll?n.appliedGlobalFlags.dotAll||n.useFlagMods?".":"[^]":C`[^\n]`;if(e===b.digit)return t?C`\D`:C`\d`;if(e===b.property){if(n.useAppliedIgnoreCase&&n.currentFlags.ignoreCase&&Ne.has(r))throw new Error(`Unicode property "${r}" can't be case-insensitive when other chars have specific case`);return`${t?C`\P`:C`\p`}{${s?`${s}=`:""}${r}}`}if(e===b.word)return t?C`\W`:C`\w`;throw new Error(`Unexpected character set kind "${e}"`)}function Kr(e,t){return(t.appliedGlobalFlags.ignoreCase?"i":"")+(e.dotAll?"s":"")+(e.sticky?"y":"")}function Qr({atomic:e,flags:t,parent:r,alternatives:s},n,a){let i=n.currentFlags;t&&(n.currentFlags=J(i,t));let o=s.map(a).join("|"),c=!n.verbose&&s.length===1&&r.type!==f.Quantifier&&!e&&(!n.useFlagMods||!t)?o:`(?${Jr(e,t,n.useFlagMods)}${o})`;return n.currentFlags=i,c}function Xr({kind:e,negate:t,alternatives:r},s,n){return`(?${`${e===D.lookahead?"":"<"}${t?"!":"="}`}${r.map(n).join("|")})`}function Zr({ref:e},t){let r=t.recursionLimit;return e===0?`(?R=${r})`:C`\g<${e}&R=${r}>`}function xt(e,t){let r=!!t?.firstOnly,s=e.min.value,n=e.max.value,a=[];if(s<65&&(n===65535||n>=131071)||s===65536&&n>=131071)return a;for(let i=s;i<=n;i++){let o=$(i);if(!Ue(o))continue;let c=Fe(o).filter(p=>{let l=p.codePointAt(0);return l<s||l>n});if(c.length&&(a.push(...c),r))break}return a}function ne(e,{escDigit:t,inCharClass:r,useFlagV:s}){if(Ct.has(e))return Ct.get(e);if(e<32||e>126&&e<160||e>262143||t&&en(e))return e>255?`\\u{${e.toString(16).toUpperCase()}}`:`\\x${e.toString(16).toUpperCase().padStart(2,"0")}`;let n=r?s?Or:Ur:Rr,a=$(e);return(n.has(a)?"\\":"")+a}function qr(e){let t=e.map(n=>n.codePointAt(0)).sort((n,a)=>n-a),r=[],s=null;for(let n=0;n<t.length;n++)t[n+1]===t[n]+1?s??=t[n]:s===null?r.push(t[n]):(r.push([s,t[n]]),s=null);return r}function Jr(e,t,r){if(e)return">";let s="";if(t&&r){let{enable:n,disable:a}=t;s=(n?.ignoreCase?"i":"")+(n?.dotAll?"s":"")+(a?"-":"")+(a?.ignoreCase?"i":"")+(a?.dotAll?"s":"")}return`${s}:`}function Yr({min:e,max:t,kind:r}){let s;return!e&&t===1?s="?":!e&&t===1/0?s="*":e===1&&t===1/0?s="+":e===t?s=`{${e}}`:s=`{${e},${t===1/0?"":t}}`,s+{greedy:"",lazy:"?",possessive:"+"}[r]}function wt({type:e}){return e===f.Group||e===f.CapturingGroup||e===f.LookaroundAssertion}function en(e){return e>47&&e<58}function kt({type:e,value:t}){return e===f.Character&&t===45}var ue=class e extends RegExp{#t=new Map;#e=null;#n;#r=null;#s=null;rawOptions={};get source(){return this.#n||"(?:)"}constructor(t,r,s){let n=!!s?.lazyCompile;if(t instanceof RegExp){if(s)throw new Error("Cannot provide options when copying a regexp");let a=t;super(a,r),this.#n=a.source,a instanceof e&&(this.#t=a.#t,this.#r=a.#r,this.#s=a.#s,this.rawOptions=a.rawOptions)}else{let a={hiddenCaptures:[],strategy:null,transfers:[],...s};super(n?"":t,r),this.#n=t,this.#t=rn(a.hiddenCaptures,a.transfers),this.#s=a.strategy,this.rawOptions=s??{}}n||(this.#e=this)}exec(t){if(!this.#e){let{lazyCompile:n,...a}=this.rawOptions;this.#e=new e(this.#n,this.flags,a)}let r=this.global||this.sticky,s=this.lastIndex;if(this.#s==="clip_search"&&r&&s){this.lastIndex=0;let n=this.#a(t.slice(s));return n&&(tn(n,s,t,this.hasIndices),this.lastIndex+=s),n}return this.#a(t)}#a(t){this.#e.lastIndex=this.lastIndex;let r=super.exec.call(this.#e,t);if(this.lastIndex=this.#e.lastIndex,!r||!this.#t.size)return r;let s=[...r];r.length=1;let n;this.hasIndices&&(n=[...r.indices],r.indices.length=1);let a=[0];for(let i=1;i<s.length;i++){let{hidden:o,transferTo:c}=this.#t.get(i)??{};if(o?a.push(null):(a.push(r.length),r.push(s[i]),this.hasIndices&&r.indices.push(n[i])),c&&s[i]!==void 0){let p=je(a[c]);if(r[p]=s[i],this.hasIndices&&(r.indices[p]=n[i]),r.groups){this.#r||(this.#r=nn(this.source));let l=this.#r.get(c);l&&(r.groups[l]=s[i],this.hasIndices&&(r.indices.groups[l]=n[i]))}}}return r}};function tn(e,t,r,s){if(e.index+=t,e.input=r,s){let n=e.indices;for(let i=0;i<n.length;i++){let o=n[i];o&&(n[i]=[o[0]+t,o[1]+t])}let a=n.groups;a&&Object.keys(a).forEach(i=>{let o=a[i];o&&(a[i]=[o[0]+t,o[1]+t])})}}function rn(e,t){let r=new Map;for(let s of e)r.set(s,{hidden:!0});for(let[s,n]of t)for(let a of n)W(r,a,{}).transferTo=s;return r}function nn(e){let t=/(?<capture>\((?:\?<(?![=!])(?<name>[^>]+)>|(?!\?)))|\\?./gsu,r=new Map,s=0,n=0,a;for(;a=t.exec(e);){let{0:i,groups:{capture:o,name:c}}=a;i==="["?s++:s?i==="]"&&s--:o&&(n++,c&&r.set(n,c))}return r}var bt=String.raw`\(\?(?:[:=!>A-Za-z\-]|<[=!]|\(DEFINE\))`;function At(e,t){for(let r=0;r<e.length;r++)e[r]>=t&&e[r]++}function Et(e,t,r,s){return e.slice(0,t)+s+e.slice(t+r.length)}var N=Object.freeze({DEFAULT:"DEFAULT",CHAR_CLASS:"CHAR_CLASS"});function le(e,t,r,s){let n=new RegExp(String.raw`${t}|(?<$skip>\[\^?|\\?.)`,"gsu"),a=[!1],i=0,o="";for(let c of e.matchAll(n)){let{0:p,groups:{$skip:l}}=c;if(!l&&(!s||s===N.DEFAULT==!i)){r instanceof Function?o+=r(c,{context:i?N.CHAR_CLASS:N.DEFAULT,negated:a[a.length-1]}):o+=r;continue}p[0]==="["?(i++,a.push(p[1]==="^")):p==="]"&&i&&(i--,a.pop()),o+=p}return o}function Oe(e,t,r,s){le(e,t,r,s)}function sn(e,t,r=0,s){if(!new RegExp(t,"su").test(e))return null;let n=new RegExp(`${t}|(?<$skip>\\\\?.)`,"gsu");n.lastIndex=r;let a=0,i;for(;i=n.exec(e);){let{0:o,groups:{$skip:c}}=i;if(!c&&(!s||s===N.DEFAULT==!a))return i;o==="["?a++:o==="]"&&a&&a--,n.lastIndex==i.index&&n.lastIndex++}return null}function pe(e,t,r){return!!sn(e,t,0,r)}function $t(e,t){let r=/\\?./gsu;r.lastIndex=t;let s=e.length,n=0,a=1,i;for(;i=r.exec(e);){let[o]=i;if(o==="[")n++;else if(n)o==="]"&&n--;else if(o==="(")a++;else if(o===")"&&(a--,!a)){s=i.index;break}}return e.slice(t,s)}var It=new RegExp(String.raw`(?<noncapturingStart>${bt})|(?<capturingStart>\((?:\?<[^>]+>)?)|\\?.`,"gsu");function Te(e,t){let r=t?.hiddenCaptures??[],s=t?.captureTransfers??new Map;if(!/\(\?>/.test(e))return{pattern:e,captureTransfers:s,hiddenCaptures:r};let n="(?>",a="(?:(?=(",i=[0],o=[],c=0,p=0,l=NaN,u;do{u=!1;let g=0,d=0,m=!1,k;for(It.lastIndex=Number.isNaN(l)?0:l+a.length;k=It.exec(e);){let{0:A,index:E,groups:{capturingStart:F,noncapturingStart:M}}=k;if(A==="[")g++;else if(g)A==="]"&&g--;else if(A===n&&!m)l=E,m=!0;else if(m&&M)d++;else if(F)m?d++:(c++,i.push(c+p));else if(A===")"&&m){if(!d){p++;let v=c+p;if(e=`${e.slice(0,l)}${a}${e.slice(l+n.length,E)}))<$$${v}>)${e.slice(E+1)}`,u=!0,o.push(v),At(r,v),s.size){let G=new Map;s.forEach((fe,Z)=>{G.set(Z>=v?Z+1:Z,fe.map(q=>q>=v?q+1:q))}),s=G}break}d--}}}while(u);return r.push(...o),e=le(e,String.raw`\\(?<backrefNum>[1-9]\d*)|<\$\$(?<wrappedBackrefNum>\d+)>`,({0:g,groups:{backrefNum:d,wrappedBackrefNum:m}})=>{if(d){let k=+d;if(k>i.length-1)throw new Error(`Backref "${g}" greater than number of captures`);return`\\${i[k]}`}return`\\${m}`},N.DEFAULT),{pattern:e,captureTransfers:s,hiddenCaptures:r}}var St=String.raw`(?:[?*+]|\{\d+(?:,\d*)?\})`,De=new RegExp(String.raw`
\\(?: \d+
  | c[A-Za-z]
  | [gk]<[^>]+>
  | [pPu]\{[^\}]+\}
  | u[A-Fa-f\d]{4}
  | x[A-Fa-f\d]{2}
  )
| \((?: \? (?: [:=!>]
  | <(?:[=!]|[^>]+>)
  | [A-Za-z\-]+:
  | \(DEFINE\)
  ))?
| (?<qBase>${St})(?<qMod>[?+]?)(?<invalidQ>[?*+\{]?)
| \\?.
`.replace(/\s+/g,""),"gsu");function Be(e){if(!new RegExp(`${St}\\+`).test(e))return{pattern:e};let t=[],r=null,s=null,n="",a=0,i;for(De.lastIndex=0;i=De.exec(e);){let{0:o,index:c,groups:{qBase:p,qMod:l,invalidQ:u}}=i;if(o==="[")a||(s=c),a++;else if(o==="]")a?a--:s=null;else if(!a)if(l==="+"&&n&&!n.startsWith("(")){if(u)throw new Error(`Invalid quantifier "${o}"`);let g=-1;if(/^\{\d+\}$/.test(p))e=Et(e,c+p.length,l,"");else{if(n===")"||n==="]"){let d=n===")"?r:s;if(d===null)throw new Error(`Invalid unmatched "${n}"`);e=`${e.slice(0,d)}(?>${e.slice(d,c)}${p})${e.slice(c+o.length)}`}else e=`${e.slice(0,c-n.length)}(?>${n}${p})${e.slice(c+o.length)}`;g+=4}De.lastIndex+=g}else o[0]==="("?t.push(c):o===")"&&(r=t.length?t.pop():null);n=o}return{pattern:e}}var R=String.raw,an=R`\\g<(?<gRNameOrNum>[^>&]+)&R=(?<gRDepth>[^>]+)>`,Ve=R`\(\?R=(?<rDepth>[^\)]+)\)|${an}`,xe=R`\(\?<(?![=!])(?<captureName>[^>]+)>`,Mt=R`${xe}|(?<unnamed>\()(?!\?)`,X=new RegExp(R`${xe}|${Ve}|\(\?|\\?.`,"gsu"),ze="Cannot use multiple overlapping recursions";function Pt(e,t){let{hiddenCaptures:r,mode:s}={hiddenCaptures:[],mode:"plugin",...t},n=t?.captureTransfers??new Map;if(!new RegExp(Ve,"su").test(e))return{pattern:e,captureTransfers:n,hiddenCaptures:r};if(s==="plugin"&&pe(e,R`\(\?\(DEFINE\)`,N.DEFAULT))throw new Error("DEFINE groups cannot be used with recursion");let a=[],i=pe(e,R`\\[1-9]`,N.DEFAULT),o=new Map,c=[],p=!1,l=0,u=0,g;for(X.lastIndex=0;g=X.exec(e);){let{0:d,groups:{captureName:m,rDepth:k,gRNameOrNum:A,gRDepth:E}}=g;if(d==="[")l++;else if(l)d==="]"&&l--;else if(k){if(_t(k),p)throw new Error(ze);if(i)throw new Error(`${s==="external"?"Backrefs":"Numbered backrefs"} cannot be used with global recursion`);let F=e.slice(0,g.index),M=e.slice(X.lastIndex);if(pe(M,Ve,N.DEFAULT))throw new Error(ze);let v=+k-1;e=vt(F,M,v,!1,r,a,u),n=Nt(n,F,v,a.length,0,u);break}else if(A){_t(E);let F=!1;for(let se of c)if(se.name===A||se.num===+A){if(F=!0,se.hasRecursedWithin)throw new Error(ze);break}if(!F)throw new Error(R`Recursive \g cannot be used outside the referenced group "${s==="external"?A:R`\g<${A}&R=${E}>`}"`);let M=o.get(A),v=$t(e,M);if(i&&pe(v,R`${xe}|\((?!\?)`,N.DEFAULT))throw new Error(`${s==="external"?"Backrefs":"Numbered backrefs"} cannot be used with recursion of capturing groups`);let G=e.slice(M,g.index),fe=v.slice(G.length+d.length),Z=a.length,q=+E-1,We=vt(G,fe,q,!0,r,a,u);n=Nt(n,G,q,a.length-Z,Z,u);let Lt=e.slice(0,M),Rt=e.slice(M+v.length);e=`${Lt}${We}${Rt}`,X.lastIndex+=We.length-d.length-G.length-fe.length,c.forEach(se=>se.hasRecursedWithin=!0),p=!0}else if(m)u++,o.set(String(u),X.lastIndex),o.set(m,X.lastIndex),c.push({num:u,name:m});else if(d[0]==="("){let F=d==="(";F&&(u++,o.set(String(u),X.lastIndex)),c.push(F?{num:u}:{})}else d===")"&&c.pop()}return r.push(...a),{pattern:e,captureTransfers:n,hiddenCaptures:r}}function _t(e){let t=`Max depth must be integer between 2 and 100; used ${e}`;if(!/^[1-9]\d*$/.test(e))throw new Error(t);if(e=+e,e<2||e>100)throw new Error(t)}function vt(e,t,r,s,n,a,i){let o=new Set;s&&Oe(e+t,xe,({groups:{captureName:p}})=>{o.add(p)},N.DEFAULT);let c=[r,s?o:null,n,a,i];return`${e}${Ft(`(?:${e}`,"forward",...c)}(?:)${Ft(`${t})`,"backward",...c)}${t}`}function Ft(e,t,r,s,n,a,i){let c=l=>t==="forward"?l+2:r-l+2-1,p="";for(let l=0;l<r;l++){let u=c(l);p+=le(e,R`${Mt}|\\k<(?<backref>[^>]+)>`,({0:g,groups:{captureName:d,unnamed:m,backref:k}})=>{if(k&&s&&!s.has(k))return g;let A=`_$${u}`;if(m||d){let E=i+a.length+1;return a.push(E),on(n,E),m?g:`(?<${d}${A}>`}return R`\k<${k}${A}>`},N.DEFAULT)}return p}function on(e,t){for(let r=0;r<e.length;r++)e[r]>=t&&e[r]++}function Nt(e,t,r,s,n,a){if(e.size&&s){let i=0;Oe(t,Mt,()=>i++,N.DEFAULT);let o=a-i+n,c=new Map;return e.forEach((p,l)=>{let u=(s-i*r)/r,g=i*r,d=l>o+i?l+s:l,m=[];for(let k of p)if(k<=o)m.push(k);else if(k>o+i+u)m.push(k+s);else if(k<=o+i)for(let A=0;A<=r;A++)m.push(k+i*A);else for(let A=0;A<=r;A++)m.push(k+g+u*A);c.set(d,m)}),c}return e}function cn(e,t){let r=Gt(e,t);return r.options?new ue(r.pattern,r.flags,r.options):new RegExp(r.pattern,r.flags)}function Gt(e,t){let r=de(t),s=we(e,{flags:r.flags,normalizeUnknownPropertyNames:!0,rules:{captureGroup:r.rules.captureGroup,singleline:r.rules.singleline},skipBackrefValidation:r.rules.allowOrphanBackrefs,unicodePropertyMap:ce}),n=ut(s,{accuracy:r.accuracy,asciiWordBoundaries:r.rules.asciiWordBoundaries,avoidSubclass:r.avoidSubclass,bestEffortTarget:r.target}),a=yt(n,r),i=Pt(a.pattern,{captureTransfers:a._captureTransfers,hiddenCaptures:a._hiddenCaptures,mode:"external"}),o=Be(i.pattern),c=Te(o.pattern,{captureTransfers:i.captureTransfers,hiddenCaptures:i.hiddenCaptures}),p={pattern:c.pattern,flags:`${r.hasIndices?"d":""}${r.global?"g":""}${a.flags}${a.options.disable.v?"u":"v"}`};if(r.avoidSubclass){if(r.lazyCompileLength!==1/0)throw new Error("Lazy compilation requires subclass")}else{let l=c.hiddenCaptures.sort((m,k)=>m-k),u=Array.from(c.captureTransfers),g=n._strategy,d=p.pattern.length>=r.lazyCompileLength;(l.length||u.length||g||d)&&(p.options={...l.length&&{hiddenCaptures:l},...u.length&&{transfers:u},...g&&{strategy:g},...d&&{lazyCompile:d}})}return p}return zt(un);})();
//# sourceMappingURL=index.min.js.map
